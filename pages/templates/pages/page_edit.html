{% extends "base.html" %}

{% load static %}

{% block title %}Edit {{ object.title }}{% endblock %}

{% block extrastyle %}
    button {
        position: absolute;
        top: 1vh;
        right: 3vw;
    }
    button#preview-button {
        position: initial;
    }
    div#markdown {
        height: 80vh;
        width: 53%;
        float: left
    }
    div#preview {
        width: 44%;
        float: left;
        padding-left: 1em;
    }
    textarea {
        height: 100%;
        width: 100%;
    }
{% endblock %}

{% block content %}
<h1>Edit Markdown</h1>
    <script type="text/javascript">
        var page_id = {{ object.id}};
    </script>
    <div id="react-edit-markdown">
        <div class="column-left">
            {{ object.content }}
        </div>
        <div class="column-right">
            {{ object.content_as_html }}
        </div>
    </div>
{% endblock %}

{% block navlinks %}
    <p><a href="{% url 'page-detail' object.slug %}">Page</a></p>
    <p><a href="{% url 'admin:pages_page_change' object.id %}">Admin</a></p>
    <p><a href="{% url 'page-detail' 'markdown' %}">Markdown</a></p>
    <p><button id="preview-button">Preview</button></p>
{% endblock %}

{% block navinfo %}
    <p>Updated {{ object.updated|date:"Y-m-d H:i:s" }}</p>
{% endblock %}

{% block extrascriptlibraries %}
    <script src="{% static "js/pages-20180705.min.js" %}"></script>
{% endblock %}

{% block extrascript %}{% endblock %}
